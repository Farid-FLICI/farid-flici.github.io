<html>

<head>
  
<title>Farid FLICI</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SYG7V4ZKEK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SYG7V4ZKEK');
</script>
  
<style>

p {font-family:Palatino Linotype;
  font-size:110%;
  text-align:justify}
  
li { font-family:Palatino Linotype;
     font-size:100%;
     text-align:justify}
     
td  {text-align:center}

h2 {color:blue;
    font-family:Century Gothic;
    text-align:left}

.zoomA {
        width: 300px;
        height: auto;
        /* ease | ease-in | ease-out | linear */
        transition: transform ease-in-out 0.3s;
      }
      .zoomA:hover {
        transform: scale(1.7);
      }

h3 {
  margin: 10px 0 5px;
  text-align:left
}
  
.topnav {
  overflow: hidden;
  position: fixed;
  top: 0;
  left:0;
  width: 100%;
  background-color: #05294a;
  height:50px;
}

  .a {color: #ffffff; text-decoration: none;   }
  .b {color: #12ff1a; text-decoration: none;   }
.topnav_a {
  float: center;
  color: #ffffff;
  text-align: center;
  padding: 1px 1px;
  text-decoration: none;
  font-size: 16px;
  display: block;
}
     
</style>
</head>
 <body font-family: 'Roboto', sans-serif;  color: #fff; style="margin-top: 5px; margin-left: 50px; margin-right: 50px;">

<b>
<div class="topnav">
<div class="topnav_a"> 
<p style="text-align:center; font-size:100%;font-family:Century Gothic; color:#ffffff; ">
<a  href="./index.html" class="a" > Home</a>
<a> |  </a>
<a  href="./cv.html" class="b" > CV </a>
<a> |  </a>
<a  href="./pub.html" class="a"> Publications</a>
<a> |  </a>
<a  href="./tuto.html" class="a">Tutorials</a>
<a> |  </a>
<a  href="./conf.html" class="a" >Conferences</a>
<a> |  </a>
<a  href="./proj.html" class="a" >Projects</a>
<a> |  </a>
<a  href="./data.html" class="a" > Data</a>
<a> |  </a>
<a  href="./pps.html" class="a" >Simulators</a>
<a> |  </a> 
<a  href="./rpkg.html" class="a" >R-packages</a>
<a> |  </a> 
<a  href="./yout.html" class="a">Youtube</a>
<a> |  </a>
<a  href="./med.html" class="a">Media</a>
<a> |  </a>
<a  href="./soc.html" class="a">Social Media</a>
   </p></div></div>
   </b> 

<hr>   

<p style="color:white">Curriculum Vitae </p>
<h2 id="cv"> Curriculum Vitae </h2>
<hr>
<div align="right">
<button><a align="right" href="https://github.com/Farid-FLICI/farid-flici.github.io/raw/y/Farid_FLICI_CV.pdf"><b>Download CV (.pdf)</b></a> </button>
</div>
<hr>
<div id="sizer" style="width: 951px; height: 1353px;"></div>	 
<embed type="application/x-google-chrome-pdf" src="chrome-extension://mhjfbmdgcfjbbpaeojofohoefgiehjai/c5c3122e-cd61-4f61-89da-505d4f385038" original-url="https://github.com/Farid-FLICI/farid-flici.github.io/raw/y/Farid_FLICI_CV.pdf" background-color="4283586137" javascript="allow">
<script type="module">
// Copyright 2016 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class GestureDetector{constructor(element){this.pinchStartEvent_=null;this.lastTouchTouchesCount_=0;this.lastEvent_=null;this.isPresentationMode_=false;this.accumulatedWheelScale_=null;this.wheelEndTimeout_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});const boundOnTouch=this.onTouch_.bind(this);this.element_.addEventListener("touchmove",boundOnTouch,{passive:true});this.element_.addEventListener("touchend",boundOnTouch,{passive:true});this.element_.addEventListener("touchcancel",boundOnTouch,{passive:true});this.element_.addEventListener("wheel",this.onWheel_.bind(this),{passive:false});document.addEventListener("contextmenu",this.handleContextMenuEvent_.bind(this))}setPresentationMode(enabled){this.isPresentationMode_=enabled}getEventTarget(){return this.eventTarget_}wasTwoFingerTouch(){return this.lastTouchTouchesCount_===2}notify_(type,detail){const clientRect=this.element_.getBoundingClientRect();detail.center={x:detail.center.x-clientRect.x,y:detail.center.y-clientRect.y};this.eventTarget_.dispatchEvent(new CustomEvent(type,{detail:detail}))}onTouchStart_(event){this.lastTouchTouchesCount_=event.touches.length;if(!this.wasTwoFingerTouch()){return}this.pinchStartEvent_=event;this.lastEvent_=event;this.notify_("pinchstart",{center:center(event)})}onTouch_(event){if(!this.pinchStartEvent_){return}const lastEvent=this.lastEvent_;if(event.touches.length<2||lastEvent.touches.length!==event.touches.length){const startScaleRatio=pinchScaleRatio(lastEvent,this.pinchStartEvent_);this.pinchStartEvent_=null;this.lastEvent_=null;this.notify_("pinchend",{startScaleRatio:startScaleRatio,center:center(lastEvent)});return}const scaleRatio=pinchScaleRatio(event,lastEvent);const startScaleRatio=pinchScaleRatio(event,this.pinchStartEvent_);this.notify_("pinchupdate",{scaleRatio:scaleRatio,direction:scaleRatio>1?"in":"out",startScaleRatio:startScaleRatio,center:center(event)});this.lastEvent_=event}onWheel_(event){if(!event.ctrlKey){if(this.isPresentationMode_){this.notify_("wheel",{center:{x:event.clientX,y:event.clientY},direction:event.deltaY>0?"down":"up"})}return}event.preventDefault();if(this.isPresentationMode_){return}const wheelScale=Math.exp(-event.deltaY/100);const scale=Math.min(1.25,Math.max(.75,wheelScale));const position={x:event.clientX,y:event.clientY};if(this.accumulatedWheelScale_==null){this.accumulatedWheelScale_=1;this.notify_("pinchstart",{center:position})}this.accumulatedWheelScale_*=scale;this.notify_("pinchupdate",{scaleRatio:scale,direction:scale>1?"in":"out",startScaleRatio:this.accumulatedWheelScale_,center:position});if(this.wheelEndTimeout_!=null){window.clearTimeout(this.wheelEndTimeout_);this.wheelEndTimeout_=null}const gestureEndDelayMs=100;const endEvent={startScaleRatio:this.accumulatedWheelScale_,center:position};this.wheelEndTimeout_=window.setTimeout((()=>{this.notify_("pinchend",endEvent);this.wheelEndTimeout_=null;this.accumulatedWheelScale_=null}),gestureEndDelayMs)}handleContextMenuEvent_(e){const capabilities=e.sourceCapabilities;if(capabilities&&capabilities.firesTouchEvents&&!this.wasTwoFingerTouch()){e.preventDefault()}}}function pinchScaleRatio(event,prevEvent){const distance1=distance(prevEvent);const distance2=distance(event);return distance1===0?null:distance2/distance1}function distance(event){const touch1=event.touches[0];const touch2=event.touches[1];const dx=touch1.clientX-touch2.clientX;const dy=touch1.clientY-touch2.clientY;return Math.sqrt(dx*dx+dy*dy)}function center(event){const touch1=event.touches[0];const touch2=event.touches[1];return{x:(touch1.clientX+touch2.clientX)/2,y:(touch1.clientY+touch2.clientY)/2}}
// Copyright 2022 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
const SWIPE_TIMER_INTERVAL_MS=200;const SWIPE_X_DIST_MIN=150;const SWIPE_Y_DIST_MAX=100;var SwipeDirection;(function(SwipeDirection){SwipeDirection[SwipeDirection["RIGHT_TO_LEFT"]=0]="RIGHT_TO_LEFT";SwipeDirection[SwipeDirection["LEFT_TO_RIGHT"]=1]="LEFT_TO_RIGHT"})(SwipeDirection||(SwipeDirection={}));class SwipeDetector{constructor(element){this.isPresentationMode_=false;this.swipeStartEvent_=null;this.elapsedTimeForTesting_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});this.element_.addEventListener("touchend",this.onTouchEnd_.bind(this),{passive:true});this.element_.addEventListener("touchcancel",(()=>this.onTouchCancel_()),{passive:true})}setElapsedTimerForTesting(time){this.elapsedTimeForTesting_=time}setPresentationMode(enabled){this.isPresentationMode_=enabled}getPresentationModeForTesting(){return this.isPresentationMode_}getEventTarget(){return this.eventTarget_}notify_(direction){this.eventTarget_.dispatchEvent(new CustomEvent("swipe",{detail:direction}))}onTouchStart_(event){if(!this.isPresentationMode_){return}if(event.touches.length!==1||this.swipeStartEvent_){this.swipeStartEvent_=null;return}this.swipeStartEvent_=event;return}onTouchCancel_(){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}this.swipeStartEvent_=null}onTouchEnd_(event){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}if(event.touches.length!==0||this.swipeStartEvent_.touches.length!==1){return}const elapsedTime=this.elapsedTimeForTesting_?this.elapsedTimeForTesting_:event.timeStamp-this.swipeStartEvent_.timeStamp;const swipeStartObj=this.swipeStartEvent_.changedTouches[0];const swipeEndObj=event.changedTouches[0];const distX=swipeEndObj.pageX-swipeStartObj.pageX;const distY=swipeEndObj.pageY-swipeStartObj.pageY;if(elapsedTime<=SWIPE_TIMER_INTERVAL_MS&&Math.abs(distX)>=SWIPE_X_DIST_MIN&&Math.abs(distY)<=SWIPE_Y_DIST_MAX){const direction=distX>0?SwipeDirection.LEFT_TO_RIGHT:SwipeDirection.RIGHT_TO_LEFT;this.notify_(direction)}this.swipeStartEvent_=null}}
// Copyright 2015 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class ViewportScroller{constructor(viewport,plugin,window){this.mousemoveCallback_=null;this.timerId_=null;this.scrollVelocity_=null;this.lastFrameTime_=0;this.viewport_=viewport;this.plugin_=plugin;this.window_=window}startDragScrollTimer_(){if(this.timerId_!==null){return}this.timerId_=this.window_.setInterval(this.dragScrollPage_.bind(this),DRAG_TIMER_INTERVAL_MS);this.lastFrameTime_=Date.now()}stopDragScrollTimer_(){if(this.timerId_===null){return}this.window_.clearInterval(this.timerId_);this.timerId_=null;this.lastFrameTime_=0}dragScrollPage_(){const position=this.viewport_.position;const currentFrameTime=Date.now();const timeAdjustment=(currentFrameTime-this.lastFrameTime_)/DRAG_TIMER_INTERVAL_MS;position.y+=this.scrollVelocity_.y*timeAdjustment;position.x+=this.scrollVelocity_.x*timeAdjustment;this.viewport_.setPosition(position);this.lastFrameTime_=currentFrameTime}calculateVelocity_(event){const x=Math.min(Math.max(-event.offsetX,event.offsetX-this.plugin_.offsetWidth,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetX);const y=Math.min(Math.max(-event.offsetY,event.offsetY-this.plugin_.offsetHeight,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetY);return{x:x,y:y}}onMousemove_(event){this.scrollVelocity_=this.calculateVelocity_(event);if(!this.scrollVelocity_.x&&!this.scrollVelocity_.y){this.stopDragScrollTimer_()}else if(!this.timerId_){this.startDragScrollTimer_()}}setEnableScrolling(isSelecting){if(isSelecting){if(!this.mousemoveCallback_){this.mousemoveCallback_=this.onMousemove_.bind(this)}this.plugin_.addEventListener("mousemove",this.mousemoveCallback_,false)}else{this.stopDragScrollTimer_();if(this.mousemoveCallback_){this.plugin_.removeEventListener("mousemove",this.mousemoveCallback_,false)}}}}const DRAG_TIMER_INTERVAL_MS=100;const MAX_DRAG_SCROLL_DISTANCE=100;
// Copyright 2021 The Chromium Authors
const channel=new MessageChannel;const sizer=document.querySelector("#sizer");const plugin=document.querySelector("embed");const srcUrl=new URL(plugin.src);let parentOrigin=srcUrl.origin;if(parentOrigin==="chrome-untrusted://print"){parentOrigin="chrome://print"}class SimulatedViewport{get position(){return{x:window.scrollX,y:window.scrollY}}setPosition(point){window.scrollTo(point.x,point.y)}}const viewportScroller=new ViewportScroller(new SimulatedViewport,plugin,window);let isFormFieldFocused=false;plugin.addEventListener("message",(e=>{const message=e.data;switch(message.type){case"formFocusChange":isFormFieldFocused=message.focused;break;case"setIsSelecting":viewportScroller.setEnableScrolling(message.isSelecting);break}channel.port1.postMessage(message)}));let isPresentationMode=false;channel.port1.onmessage=e=>{switch(e.data.type){case"loadArray":if(plugin.src.startsWith("blob:")){URL.revokeObjectURL(plugin.src)}plugin.src=URL.createObjectURL(new Blob([e.data.dataToLoad]));plugin.setAttribute("has-edits","");return;case"setPresentationMode":isPresentationMode=e.data.enablePresentationMode;gestureDetector.setPresentationMode(isPresentationMode);swipeDetector.setPresentationMode(isPresentationMode);if(isPresentationMode){document.documentElement.className="fullscreen"}else{document.documentElement.className="";plugin.focus()}break;case"syncScrollToRemote":window.scrollTo({left:e.data.x,top:e.data.y});channel.port1.postMessage({type:"ackScrollToRemote",x:window.scrollX,y:window.scrollY});return;case"updateSize":sizer.style.width=`${e.data.width}px`;sizer.style.height=`${e.data.height}px`;return;case"viewport":if(parentOrigin==="chrome://print"&&e.data.layoutOptions){switch(e.data.layoutOptions.direction){case 1:document.dir="rtl";break;case 2:document.dir="ltr";break;default:document.dir="";break}}break}plugin.postMessage(e.data)};window.parent.postMessage({type:"connect",token:srcUrl.href},parentOrigin,[channel.port2]);window.addEventListener("scroll",(()=>{channel.port1.postMessage({type:"syncScrollFromRemote",x:window.scrollX,y:window.scrollY})}));function relayGesture(e){const gestureEvent=e;channel.port1.postMessage({type:"gesture",gesture:{type:gestureEvent.type,detail:gestureEvent.detail}})}const gestureDetector=new GestureDetector(plugin);for(const type of["pinchstart","pinchupdate","pinchend","wheel"]){gestureDetector.getEventTarget().addEventListener(type,relayGesture)}function relaySwipe(e){const swipeEvent=e;channel.port1.postMessage({type:"swipe",direction:swipeEvent.detail})}const swipeDetector=new SwipeDetector(plugin);swipeDetector.getEventTarget().addEventListener("swipe",relaySwipe);document.addEventListener("keydown",(e=>{switch(e.key){case" ":break;case"PageDown":case"PageUp":if(!hasKeyModifiers(e)){e.preventDefault();break}return;case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":if(!isFormFieldFocused&&!hasKeyModifiers(e)){e.preventDefault();break}return;case"Escape":case"Tab":break;case"=":case"-":case"+":if(isPresentationMode&&hasCtrlModifier(e)){e.preventDefault()}return;case"a":if(hasCtrlModifier(e)&&!e.shiftKey&&!e.altKey){e.preventDefault();break}return;default:if(hasCtrlModifier(e)){break}return}channel.port1.postMessage({type:"sendKeyEvent",keyEvent:{keyCode:e.keyCode,code:e.code,key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}})}));document.addEventListener("keypress",(e=>{switch(e.key){case" ":if(!isFormFieldFocused){e.preventDefault()}break}}));function hasCtrlModifier(e){let hasModifier=e.ctrlKey;return hasModifier}function hasKeyModifiers(e){return!!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}
</script>
// Copyright 2016 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class GestureDetector{constructor(element){this.pinchStartEvent_=null;this.lastTouchTouchesCount_=0;this.lastEvent_=null;this.isPresentationMode_=false;this.accumulatedWheelScale_=null;this.wheelEndTimeout_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});const boundOnTouch=this.onTouch_.bind(this);this.element_.addEventListener("touchmove",boundOnTouch,{passive:true});this.element_.addEventListener("touchend",boundOnTouch,{passive:true});this.element_.addEventListener("touchcancel",boundOnTouch,{passive:true});this.element_.addEventListener("wheel",this.onWheel_.bind(this),{passive:false});document.addEventListener("contextmenu",this.handleContextMenuEvent_.bind(this))}setPresentationMode(enabled){this.isPresentationMode_=enabled}getEventTarget(){return this.eventTarget_}wasTwoFingerTouch(){return this.lastTouchTouchesCount_===2}notify_(type,detail){const clientRect=this.element_.getBoundingClientRect();detail.center={x:detail.center.x-clientRect.x,y:detail.center.y-clientRect.y};this.eventTarget_.dispatchEvent(new CustomEvent(type,{detail:detail}))}onTouchStart_(event){this.lastTouchTouchesCount_=event.touches.length;if(!this.wasTwoFingerTouch()){return}this.pinchStartEvent_=event;this.lastEvent_=event;this.notify_("pinchstart",{center:center(event)})}onTouch_(event){if(!this.pinchStartEvent_){return}const lastEvent=this.lastEvent_;if(event.touches.length<2||lastEvent.touches.length!==event.touches.length){const startScaleRatio=pinchScaleRatio(lastEvent,this.pinchStartEvent_);this.pinchStartEvent_=null;this.lastEvent_=null;this.notify_("pinchend",{startScaleRatio:startScaleRatio,center:center(lastEvent)});return}const scaleRatio=pinchScaleRatio(event,lastEvent);const startScaleRatio=pinchScaleRatio(event,this.pinchStartEvent_);this.notify_("pinchupdate",{scaleRatio:scaleRatio,direction:scaleRatio>1?"in":"out",startScaleRatio:startScaleRatio,center:center(event)});this.lastEvent_=event}onWheel_(event){if(!event.ctrlKey){if(this.isPresentationMode_){this.notify_("wheel",{center:{x:event.clientX,y:event.clientY},direction:event.deltaY>0?"down":"up"})}return}event.preventDefault();if(this.isPresentationMode_){return}const wheelScale=Math.exp(-event.deltaY/100);const scale=Math.min(1.25,Math.max(.75,wheelScale));const position={x:event.clientX,y:event.clientY};if(this.accumulatedWheelScale_==null){this.accumulatedWheelScale_=1;this.notify_("pinchstart",{center:position})}this.accumulatedWheelScale_*=scale;this.notify_("pinchupdate",{scaleRatio:scale,direction:scale>1?"in":"out",startScaleRatio:this.accumulatedWheelScale_,center:position});if(this.wheelEndTimeout_!=null){window.clearTimeout(this.wheelEndTimeout_);this.wheelEndTimeout_=null}const gestureEndDelayMs=100;const endEvent={startScaleRatio:this.accumulatedWheelScale_,center:position};this.wheelEndTimeout_=window.setTimeout((()=>{this.notify_("pinchend",endEvent);this.wheelEndTimeout_=null;this.accumulatedWheelScale_=null}),gestureEndDelayMs)}handleContextMenuEvent_(e){const capabilities=e.sourceCapabilities;if(capabilities&&capabilities.firesTouchEvents&&!this.wasTwoFingerTouch()){e.preventDefault()}}}function pinchScaleRatio(event,prevEvent){const distance1=distance(prevEvent);const distance2=distance(event);return distance1===0?null:distance2/distance1}function distance(event){const touch1=event.touches[0];const touch2=event.touches[1];const dx=touch1.clientX-touch2.clientX;const dy=touch1.clientY-touch2.clientY;return Math.sqrt(dx*dx+dy*dy)}function center(event){const touch1=event.touches[0];const touch2=event.touches[1];return{x:(touch1.clientX+touch2.clientX)/2,y:(touch1.clientY+touch2.clientY)/2}}
// Copyright 2022 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
const SWIPE_TIMER_INTERVAL_MS=200;const SWIPE_X_DIST_MIN=150;const SWIPE_Y_DIST_MAX=100;var SwipeDirection;(function(SwipeDirection){SwipeDirection[SwipeDirection["RIGHT_TO_LEFT"]=0]="RIGHT_TO_LEFT";SwipeDirection[SwipeDirection["LEFT_TO_RIGHT"]=1]="LEFT_TO_RIGHT"})(SwipeDirection||(SwipeDirection={}));class SwipeDetector{constructor(element){this.isPresentationMode_=false;this.swipeStartEvent_=null;this.elapsedTimeForTesting_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});this.element_.addEventListener("touchend",this.onTouchEnd_.bind(this),{passive:true});this.element_.addEventListener("touchcancel",(()=>this.onTouchCancel_()),{passive:true})}setElapsedTimerForTesting(time){this.elapsedTimeForTesting_=time}setPresentationMode(enabled){this.isPresentationMode_=enabled}getPresentationModeForTesting(){return this.isPresentationMode_}getEventTarget(){return this.eventTarget_}notify_(direction){this.eventTarget_.dispatchEvent(new CustomEvent("swipe",{detail:direction}))}onTouchStart_(event){if(!this.isPresentationMode_){return}if(event.touches.length!==1||this.swipeStartEvent_){this.swipeStartEvent_=null;return}this.swipeStartEvent_=event;return}onTouchCancel_(){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}this.swipeStartEvent_=null}onTouchEnd_(event){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}if(event.touches.length!==0||this.swipeStartEvent_.touches.length!==1){return}const elapsedTime=this.elapsedTimeForTesting_?this.elapsedTimeForTesting_:event.timeStamp-this.swipeStartEvent_.timeStamp;const swipeStartObj=this.swipeStartEvent_.changedTouches[0];const swipeEndObj=event.changedTouches[0];const distX=swipeEndObj.pageX-swipeStartObj.pageX;const distY=swipeEndObj.pageY-swipeStartObj.pageY;if(elapsedTime<=SWIPE_TIMER_INTERVAL_MS&&Math.abs(distX)>=SWIPE_X_DIST_MIN&&Math.abs(distY)<=SWIPE_Y_DIST_MAX){const direction=distX>0?SwipeDirection.LEFT_TO_RIGHT:SwipeDirection.RIGHT_TO_LEFT;this.notify_(direction)}this.swipeStartEvent_=null}}
// Copyright 2015 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class ViewportScroller{constructor(viewport,plugin,window){this.mousemoveCallback_=null;this.timerId_=null;this.scrollVelocity_=null;this.lastFrameTime_=0;this.viewport_=viewport;this.plugin_=plugin;this.window_=window}startDragScrollTimer_(){if(this.timerId_!==null){return}this.timerId_=this.window_.setInterval(this.dragScrollPage_.bind(this),DRAG_TIMER_INTERVAL_MS);this.lastFrameTime_=Date.now()}stopDragScrollTimer_(){if(this.timerId_===null){return}this.window_.clearInterval(this.timerId_);this.timerId_=null;this.lastFrameTime_=0}dragScrollPage_(){const position=this.viewport_.position;const currentFrameTime=Date.now();const timeAdjustment=(currentFrameTime-this.lastFrameTime_)/DRAG_TIMER_INTERVAL_MS;position.y+=this.scrollVelocity_.y*timeAdjustment;position.x+=this.scrollVelocity_.x*timeAdjustment;this.viewport_.setPosition(position);this.lastFrameTime_=currentFrameTime}calculateVelocity_(event){const x=Math.min(Math.max(-event.offsetX,event.offsetX-this.plugin_.offsetWidth,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetX);const y=Math.min(Math.max(-event.offsetY,event.offsetY-this.plugin_.offsetHeight,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetY);return{x:x,y:y}}onMousemove_(event){this.scrollVelocity_=this.calculateVelocity_(event);if(!this.scrollVelocity_.x&&!this.scrollVelocity_.y){this.stopDragScrollTimer_()}else if(!this.timerId_){this.startDragScrollTimer_()}}setEnableScrolling(isSelecting){if(isSelecting){if(!this.mousemoveCallback_){this.mousemoveCallback_=this.onMousemove_.bind(this)}this.plugin_.addEventListener("mousemove",this.mousemoveCallback_,false)}else{this.stopDragScrollTimer_();if(this.mousemoveCallback_){this.plugin_.removeEventListener("mousemove",this.mousemoveCallback_,false)}}}}const DRAG_TIMER_INTERVAL_MS=100;const MAX_DRAG_SCROLL_DISTANCE=100;
// Copyright 2021 The Chromium Authors
const channel=new MessageChannel;const sizer=document.querySelector("#sizer");const plugin=document.querySelector("embed");const srcUrl=new URL(plugin.src);let parentOrigin=srcUrl.origin;if(parentOrigin==="chrome-untrusted://print"){parentOrigin="chrome://print"}class SimulatedViewport{get position(){return{x:window.scrollX,y:window.scrollY}}setPosition(point){window.scrollTo(point.x,point.y)}}const viewportScroller=new ViewportScroller(new SimulatedViewport,plugin,window);let isFormFieldFocused=false;plugin.addEventListener("message",(e=>{const message=e.data;switch(message.type){case"formFocusChange":isFormFieldFocused=message.focused;break;case"setIsSelecting":viewportScroller.setEnableScrolling(message.isSelecting);break}channel.port1.postMessage(message)}));let isPresentationMode=false;channel.port1.onmessage=e=>{switch(e.data.type){case"loadArray":if(plugin.src.startsWith("blob:")){URL.revokeObjectURL(plugin.src)}plugin.src=URL.createObjectURL(new Blob([e.data.dataToLoad]));plugin.setAttribute("has-edits","");return;case"setPresentationMode":isPresentationMode=e.data.enablePresentationMode;gestureDetector.setPresentationMode(isPresentationMode);swipeDetector.setPresentationMode(isPresentationMode);if(isPresentationMode){document.documentElement.className="fullscreen"}else{document.documentElement.className="";plugin.focus()}break;case"syncScrollToRemote":window.scrollTo({left:e.data.x,top:e.data.y});channel.port1.postMessage({type:"ackScrollToRemote",x:window.scrollX,y:window.scrollY});return;case"updateSize":sizer.style.width=`${e.data.width}px`;sizer.style.height=`${e.data.height}px`;return;case"viewport":if(parentOrigin==="chrome://print"&&e.data.layoutOptions){switch(e.data.layoutOptions.direction){case 1:document.dir="rtl";break;case 2:document.dir="ltr";break;default:document.dir="";break}}break}plugin.postMessage(e.data)};window.parent.postMessage({type:"connect",token:srcUrl.href},parentOrigin,[channel.port2]);window.addEventListener("scroll",(()=>{channel.port1.postMessage({type:"syncScrollFromRemote",x:window.scrollX,y:window.scrollY})}));function relayGesture(e){const gestureEvent=e;channel.port1.postMessage({type:"gesture",gesture:{type:gestureEvent.type,detail:gestureEvent.detail}})}const gestureDetector=new GestureDetector(plugin);for(const type of["pinchstart","pinchupdate","pinchend","wheel"]){gestureDetector.getEventTarget().addEventListener(type,relayGesture)}function relaySwipe(e){const swipeEvent=e;channel.port1.postMessage({type:"swipe",direction:swipeEvent.detail})}const swipeDetector=new SwipeDetector(plugin);swipeDetector.getEventTarget().addEventListener("swipe",relaySwipe);document.addEventListener("keydown",(e=>{switch(e.key){case" ":break;case"PageDown":case"PageUp":if(!hasKeyModifiers(e)){e.preventDefault();break}return;case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":if(!isFormFieldFocused&&!hasKeyModifiers(e)){e.preventDefault();break}return;case"Escape":case"Tab":break;case"=":case"-":case"+":if(isPresentationMode&&hasCtrlModifier(e)){e.preventDefault()}return;case"a":if(hasCtrlModifier(e)&&!e.shiftKey&&!e.altKey){e.preventDefault();break}return;default:if(hasCtrlModifier(e)){break}return}channel.port1.postMessage({type:"sendKeyEvent",keyEvent:{keyCode:e.keyCode,code:e.code,key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}})}));document.addEventListener("keypress",(e=>{switch(e.key){case" ":if(!isFormFieldFocused){e.preventDefault()}break}}));function hasCtrlModifier(e){let hasModifier=e.ctrlKey;return hasModifier}function hasKeyModifiers(e){return!!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}
<script type="module">
// Copyright 2016 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class GestureDetector{constructor(element){this.pinchStartEvent_=null;this.lastTouchTouchesCount_=0;this.lastEvent_=null;this.isPresentationMode_=false;this.accumulatedWheelScale_=null;this.wheelEndTimeout_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});const boundOnTouch=this.onTouch_.bind(this);this.element_.addEventListener("touchmove",boundOnTouch,{passive:true});this.element_.addEventListener("touchend",boundOnTouch,{passive:true});this.element_.addEventListener("touchcancel",boundOnTouch,{passive:true});this.element_.addEventListener("wheel",this.onWheel_.bind(this),{passive:false});document.addEventListener("contextmenu",this.handleContextMenuEvent_.bind(this))}setPresentationMode(enabled){this.isPresentationMode_=enabled}getEventTarget(){return this.eventTarget_}wasTwoFingerTouch(){return this.lastTouchTouchesCount_===2}notify_(type,detail){const clientRect=this.element_.getBoundingClientRect();detail.center={x:detail.center.x-clientRect.x,y:detail.center.y-clientRect.y};this.eventTarget_.dispatchEvent(new CustomEvent(type,{detail:detail}))}onTouchStart_(event){this.lastTouchTouchesCount_=event.touches.length;if(!this.wasTwoFingerTouch()){return}this.pinchStartEvent_=event;this.lastEvent_=event;this.notify_("pinchstart",{center:center(event)})}onTouch_(event){if(!this.pinchStartEvent_){return}const lastEvent=this.lastEvent_;if(event.touches.length<2||lastEvent.touches.length!==event.touches.length){const startScaleRatio=pinchScaleRatio(lastEvent,this.pinchStartEvent_);this.pinchStartEvent_=null;this.lastEvent_=null;this.notify_("pinchend",{startScaleRatio:startScaleRatio,center:center(lastEvent)});return}const scaleRatio=pinchScaleRatio(event,lastEvent);const startScaleRatio=pinchScaleRatio(event,this.pinchStartEvent_);this.notify_("pinchupdate",{scaleRatio:scaleRatio,direction:scaleRatio>1?"in":"out",startScaleRatio:startScaleRatio,center:center(event)});this.lastEvent_=event}onWheel_(event){if(!event.ctrlKey){if(this.isPresentationMode_){this.notify_("wheel",{center:{x:event.clientX,y:event.clientY},direction:event.deltaY>0?"down":"up"})}return}event.preventDefault();if(this.isPresentationMode_){return}const wheelScale=Math.exp(-event.deltaY/100);const scale=Math.min(1.25,Math.max(.75,wheelScale));const position={x:event.clientX,y:event.clientY};if(this.accumulatedWheelScale_==null){this.accumulatedWheelScale_=1;this.notify_("pinchstart",{center:position})}this.accumulatedWheelScale_*=scale;this.notify_("pinchupdate",{scaleRatio:scale,direction:scale>1?"in":"out",startScaleRatio:this.accumulatedWheelScale_,center:position});if(this.wheelEndTimeout_!=null){window.clearTimeout(this.wheelEndTimeout_);this.wheelEndTimeout_=null}const gestureEndDelayMs=100;const endEvent={startScaleRatio:this.accumulatedWheelScale_,center:position};this.wheelEndTimeout_=window.setTimeout((()=>{this.notify_("pinchend",endEvent);this.wheelEndTimeout_=null;this.accumulatedWheelScale_=null}),gestureEndDelayMs)}handleContextMenuEvent_(e){const capabilities=e.sourceCapabilities;if(capabilities&&capabilities.firesTouchEvents&&!this.wasTwoFingerTouch()){e.preventDefault()}}}function pinchScaleRatio(event,prevEvent){const distance1=distance(prevEvent);const distance2=distance(event);return distance1===0?null:distance2/distance1}function distance(event){const touch1=event.touches[0];const touch2=event.touches[1];const dx=touch1.clientX-touch2.clientX;const dy=touch1.clientY-touch2.clientY;return Math.sqrt(dx*dx+dy*dy)}function center(event){const touch1=event.touches[0];const touch2=event.touches[1];return{x:(touch1.clientX+touch2.clientX)/2,y:(touch1.clientY+touch2.clientY)/2}}
// Copyright 2022 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
const SWIPE_TIMER_INTERVAL_MS=200;const SWIPE_X_DIST_MIN=150;const SWIPE_Y_DIST_MAX=100;var SwipeDirection;(function(SwipeDirection){SwipeDirection[SwipeDirection["RIGHT_TO_LEFT"]=0]="RIGHT_TO_LEFT";SwipeDirection[SwipeDirection["LEFT_TO_RIGHT"]=1]="LEFT_TO_RIGHT"})(SwipeDirection||(SwipeDirection={}));class SwipeDetector{constructor(element){this.isPresentationMode_=false;this.swipeStartEvent_=null;this.elapsedTimeForTesting_=null;this.eventTarget_=new EventTarget;this.element_=element;this.element_.addEventListener("touchstart",this.onTouchStart_.bind(this),{passive:true});this.element_.addEventListener("touchend",this.onTouchEnd_.bind(this),{passive:true});this.element_.addEventListener("touchcancel",(()=>this.onTouchCancel_()),{passive:true})}setElapsedTimerForTesting(time){this.elapsedTimeForTesting_=time}setPresentationMode(enabled){this.isPresentationMode_=enabled}getPresentationModeForTesting(){return this.isPresentationMode_}getEventTarget(){return this.eventTarget_}notify_(direction){this.eventTarget_.dispatchEvent(new CustomEvent("swipe",{detail:direction}))}onTouchStart_(event){if(!this.isPresentationMode_){return}if(event.touches.length!==1||this.swipeStartEvent_){this.swipeStartEvent_=null;return}this.swipeStartEvent_=event;return}onTouchCancel_(){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}this.swipeStartEvent_=null}onTouchEnd_(event){if(!this.isPresentationMode_||!this.swipeStartEvent_){return}if(event.touches.length!==0||this.swipeStartEvent_.touches.length!==1){return}const elapsedTime=this.elapsedTimeForTesting_?this.elapsedTimeForTesting_:event.timeStamp-this.swipeStartEvent_.timeStamp;const swipeStartObj=this.swipeStartEvent_.changedTouches[0];const swipeEndObj=event.changedTouches[0];const distX=swipeEndObj.pageX-swipeStartObj.pageX;const distY=swipeEndObj.pageY-swipeStartObj.pageY;if(elapsedTime<=SWIPE_TIMER_INTERVAL_MS&&Math.abs(distX)>=SWIPE_X_DIST_MIN&&Math.abs(distY)<=SWIPE_Y_DIST_MAX){const direction=distX>0?SwipeDirection.LEFT_TO_RIGHT:SwipeDirection.RIGHT_TO_LEFT;this.notify_(direction)}this.swipeStartEvent_=null}}
// Copyright 2015 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
class ViewportScroller{constructor(viewport,plugin,window){this.mousemoveCallback_=null;this.timerId_=null;this.scrollVelocity_=null;this.lastFrameTime_=0;this.viewport_=viewport;this.plugin_=plugin;this.window_=window}startDragScrollTimer_(){if(this.timerId_!==null){return}this.timerId_=this.window_.setInterval(this.dragScrollPage_.bind(this),DRAG_TIMER_INTERVAL_MS);this.lastFrameTime_=Date.now()}stopDragScrollTimer_(){if(this.timerId_===null){return}this.window_.clearInterval(this.timerId_);this.timerId_=null;this.lastFrameTime_=0}dragScrollPage_(){const position=this.viewport_.position;const currentFrameTime=Date.now();const timeAdjustment=(currentFrameTime-this.lastFrameTime_)/DRAG_TIMER_INTERVAL_MS;position.y+=this.scrollVelocity_.y*timeAdjustment;position.x+=this.scrollVelocity_.x*timeAdjustment;this.viewport_.setPosition(position);this.lastFrameTime_=currentFrameTime}calculateVelocity_(event){const x=Math.min(Math.max(-event.offsetX,event.offsetX-this.plugin_.offsetWidth,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetX);const y=Math.min(Math.max(-event.offsetY,event.offsetY-this.plugin_.offsetHeight,0),MAX_DRAG_SCROLL_DISTANCE)*Math.sign(event.offsetY);return{x:x,y:y}}onMousemove_(event){this.scrollVelocity_=this.calculateVelocity_(event);if(!this.scrollVelocity_.x&&!this.scrollVelocity_.y){this.stopDragScrollTimer_()}else if(!this.timerId_){this.startDragScrollTimer_()}}setEnableScrolling(isSelecting){if(isSelecting){if(!this.mousemoveCallback_){this.mousemoveCallback_=this.onMousemove_.bind(this)}this.plugin_.addEventListener("mousemove",this.mousemoveCallback_,false)}else{this.stopDragScrollTimer_();if(this.mousemoveCallback_){this.plugin_.removeEventListener("mousemove",this.mousemoveCallback_,false)}}}}const DRAG_TIMER_INTERVAL_MS=100;const MAX_DRAG_SCROLL_DISTANCE=100;
// Copyright 2021 The Chromium Authors
const channel=new MessageChannel;const sizer=document.querySelector("#sizer");const plugin=document.querySelector("embed");const srcUrl=new URL(plugin.src);let parentOrigin=srcUrl.origin;if(parentOrigin==="chrome-untrusted://print"){parentOrigin="chrome://print"}class SimulatedViewport{get position(){return{x:window.scrollX,y:window.scrollY}}setPosition(point){window.scrollTo(point.x,point.y)}}const viewportScroller=new ViewportScroller(new SimulatedViewport,plugin,window);let isFormFieldFocused=false;plugin.addEventListener("message",(e=>{const message=e.data;switch(message.type){case"formFocusChange":isFormFieldFocused=message.focused;break;case"setIsSelecting":viewportScroller.setEnableScrolling(message.isSelecting);break}channel.port1.postMessage(message)}));let isPresentationMode=false;channel.port1.onmessage=e=>{switch(e.data.type){case"loadArray":if(plugin.src.startsWith("blob:")){URL.revokeObjectURL(plugin.src)}plugin.src=URL.createObjectURL(new Blob([e.data.dataToLoad]));plugin.setAttribute("has-edits","");return;case"setPresentationMode":isPresentationMode=e.data.enablePresentationMode;gestureDetector.setPresentationMode(isPresentationMode);swipeDetector.setPresentationMode(isPresentationMode);if(isPresentationMode){document.documentElement.className="fullscreen"}else{document.documentElement.className="";plugin.focus()}break;case"syncScrollToRemote":window.scrollTo({left:e.data.x,top:e.data.y});channel.port1.postMessage({type:"ackScrollToRemote",x:window.scrollX,y:window.scrollY});return;case"updateSize":sizer.style.width=`${e.data.width}px`;sizer.style.height=`${e.data.height}px`;return;case"viewport":if(parentOrigin==="chrome://print"&&e.data.layoutOptions){switch(e.data.layoutOptions.direction){case 1:document.dir="rtl";break;case 2:document.dir="ltr";break;default:document.dir="";break}}break}plugin.postMessage(e.data)};window.parent.postMessage({type:"connect",token:srcUrl.href},parentOrigin,[channel.port2]);window.addEventListener("scroll",(()=>{channel.port1.postMessage({type:"syncScrollFromRemote",x:window.scrollX,y:window.scrollY})}));function relayGesture(e){const gestureEvent=e;channel.port1.postMessage({type:"gesture",gesture:{type:gestureEvent.type,detail:gestureEvent.detail}})}const gestureDetector=new GestureDetector(plugin);for(const type of["pinchstart","pinchupdate","pinchend","wheel"]){gestureDetector.getEventTarget().addEventListener(type,relayGesture)}function relaySwipe(e){const swipeEvent=e;channel.port1.postMessage({type:"swipe",direction:swipeEvent.detail})}const swipeDetector=new SwipeDetector(plugin);swipeDetector.getEventTarget().addEventListener("swipe",relaySwipe);document.addEventListener("keydown",(e=>{switch(e.key){case" ":break;case"PageDown":case"PageUp":if(!hasKeyModifiers(e)){e.preventDefault();break}return;case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":if(!isFormFieldFocused&&!hasKeyModifiers(e)){e.preventDefault();break}return;case"Escape":case"Tab":break;case"=":case"-":case"+":if(isPresentationMode&&hasCtrlModifier(e)){e.preventDefault()}return;case"a":if(hasCtrlModifier(e)&&!e.shiftKey&&!e.altKey){e.preventDefault();break}return;default:if(hasCtrlModifier(e)){break}return}channel.port1.postMessage({type:"sendKeyEvent",keyEvent:{keyCode:e.keyCode,code:e.code,key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}})}));document.addEventListener("keypress",(e=>{switch(e.key){case" ":if(!isFormFieldFocused){e.preventDefault()}break}}));function hasCtrlModifier(e){let hasModifier=e.ctrlKey;return hasModifier}function hasKeyModifiers(e){return!!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}
</script>
   <hr>
  </body>
</html>
